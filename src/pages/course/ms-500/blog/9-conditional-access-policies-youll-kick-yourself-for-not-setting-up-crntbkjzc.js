/* eslint react/jsx-no-undef: "off", no-tabs: "off", no-irregular-whitespace: "off" */
import {h, Component} from 'preact'
import Page from '../../../../components/page'
import Container from '@mui/material/Container'
import Grid from '@mui/material/Grid'

const marginTop24Style = {
  marginTop: '24px'
}

class ArticlePage extends Component {
  constructor(props) {
    super(props)
    this.mountAds1 = this.mountAds1.bind(this)
    this.mountAds2 = this.mountAds2.bind(this)

    this.state = {
      article: {article: {blocks: [{data: {}, depth: 0, entityRanges: [{key: 0, length: 25, offset: 2}], inlineStyleRanges: [], key: 'fe85r', text: 'A conditional access policy is a set of rules and conditions that determine whether a user is granted access to a specific resource or system. These policies are typically used to secure corporate data and applications and can include factors such as the device being used, the location of the user, and the level of risk associated with the request for access. The policy can be implemented using various technologies, such as multi-factor authentication, device management, and identity management systems.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '2s69b', text: 'Conditional access policies are an important part of a comprehensive security strategy for organizations. These policies are used to control access to resources based on a set of predefined conditions, such as the location of the user, the device they are using, or the level of risk associated with the resource being accessed.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '7ir6', text: 'One of the main reasons to set up conditional access policies is to protect against unauthorized access to sensitive information. For example, an organization may only want to allow access to certain resources from specific locations or devices or require multi-factor authentication for access to high-risk resources. By implementing these types of policies, organizations can reduce the risk of data breaches and other security incidents.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '33b24', text: 'Another reason to set up conditional access policies is to ensure compliance with regulatory requirements. Many industries have specific regulations in place that require organizations to implement certain security controls, such as encryption or multi-factor authentication. By setting up conditional access policies, organizations can ensure that they are in compliance with these regulations and avoid potential fines or penalties.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '31ajc', text: 'Another benefit of conditional access policies is that it can help organizations to maintain productivity and prevent disruptions. For example, an organization may want to prevent access to certain resources from personal devices, which can help to reduce the risk of data breaches caused by lost or stolen devices. Additionally, conditional access policies can be used to prevent users from accessing resources from untrusted locations, which can help to reduce the risk of phishing and other types of attacks.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'b2gl2', text: 'Typically, I create each of these policies as a separate conditional access policy. Sure you could combine a couple of them into one policy but then you lose the granularity. For example, the first policy is blocking certain countries. So maybe you create a policy that only allows logins from certain countries, while only using certain devices and the login must be from a compliant device. Then, one of your users is leaving the country so you need to exclude them from the certain countries list. If you have everything in a single policy you\'ll need to allow that user to login from anywhere, AND the user won\'t need a compliant device. Wouldn\'t it be safer to continue to require the user to use a compliant device and allow them to log in from any country?', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'ac1ro', text: 'How to deploy conditional access policies', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'l1pf', text: 'Lastly, I always deploy conditional access policies in batches. For example, I\'ll start with a test account and verify access. Then I\'ll deploy it to a couple of IT users to verify access. Then, depending on the size of the company I\'ll deploy the conditional access policy to a department or an office. Lastly, I\'ll deploy the conditional access policy to everyone. This batched deployment helps find errors and issues without disrupting the entire organization. Lastly, I typically add a break glass account. A break glass account is an exception to each conditional access policy. That way, if Microsoft or one of your admins ever screws up a conditional access policy you can still get in and disable the conditional access policy.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'diuo2', text: '1. Block login except from certain countries', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'dkqdl', text: 'With any cloud, it\'s accessible from anywhere at any time. But does your Microsoft 365 tenant really need to be accessible from anywhere? A lot of malicious actors are coming from certain countries where you may not even have any employees. For example, the number one hotspot for hackers is China. Do you have any employees logging in from China? No, then create a conditional access policy to block those logins.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '5usk7', text: 'By limiting login attempts to specific geographic locations, organizations can reduce the risk of unauthorized access to sensitive information and systems from potentially malicious actors located in other regions. Additionally, this policy can also help to comply with local laws and regulations related to data protection and privacy.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '5fm98', text: 'This policy is only effective if you aren\'t a global organization. If you have employees on every continent you\'ll either need to break down the policy so users in the North America group can only log in from North America or skip this policy.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'bu8u2', text: 'To create this conditional access policy you\'ll need to first create a named location. Then you can create a conditional access policy.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '2l7tf', text: 'How to create a named location', type: 'header-three'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '4a0ek', text: 'There are two ways to create the named location and conditional access policy. Using an allow list or block list. An allow list is "I want to only allow logins from these countries". A block list is "I want to allow login from anywhere except these locations". In the following guide, I\'ll be creating an allow list to only allow logins from the U.S.A. and the United Kingdom.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 1, length: 1, offset: 0}], inlineStyleRanges: [], key: 'ekhiq', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 2, length: 15, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 15, offset: 77, style: 'BOLD'}, {length: 18, offset: 100, style: 'BOLD'}], key: 'drmer', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Named locations. Click Countries location.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 17, offset: 19, style: 'BOLD'}, {length: 33, offset: 45, style: 'BOLD'}, {length: 13, offset: 86, style: 'BOLD'}, {length: 14, offset: 104, style: 'BOLD'}], key: '8i1bh', text: 'Name the location "Allowed Countries". Check Include unknown countries/regions. Click United States and United Kingdom.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 6, offset: 6, style: 'BOLD'}], key: '6f4v1', text: 'Click Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'btvti', text: 'Create a conditional access policy to block log-ins from certain countries', type: 'header-three'}, {data: {}, depth: 0, entityRanges: [{key: 3, length: 1, offset: 0}], inlineStyleRanges: [], key: 'an9jo', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: 'cl4t5', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 17, offset: 17, style: 'BOLD'}], key: '8971h', text: 'Name the policy "Allowed Countries"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: '3s83', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: 'epa16', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 21, offset: 6, style: 'BOLD'}, {length: 14, offset: 30, style: 'BOLD'}, {length: 10, offset: 69, style: 'BOLD'}, {length: 4, offset: 82, style: 'BOLD'}, {length: 12, offset: 88, style: 'BOLD'}], key: 'a8hq2', text: 'Click 0 conditions selected > Not configured (under Locations) > Set Configure to Yes > Any location (under Include).', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 7, offset: 6, style: 'BOLD'}, {length: 5, offset: 16, style: 'BOLD'}, {length: 17, offset: 44, style: 'BOLD'}, {length: 38, offset: 66, style: 'BOLD'}, {length: 6, offset: 112, style: 'BOLD'}], key: 'ee0n5', text: 'Click Exclude > None (under Select) > Check Allowed Countries and Multifactor authentication trusted IPs. Click Select.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 7, offset: 57, style: 'BOLD'}, {length: 3, offset: 66, style: 'BOLD'}, {length: 6, offset: 71, style: 'BOLD'}], key: '3ff7q', text: 'Click 0 controls selected (under Grant) > Block access > Select > On > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'f85mk', text: '2. Block unused device operating systems', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'a9joc', text: 'By only allowing devices with supported operating systems to access corporate resources, organizations can reduce the risk of hackers accessing your Microsoft 365 environment. For example, does anyone use Linux? What about Macs? Maybe you give everyone an Android device so there\'s no need to allow iPhones.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '6qvqh', text: 'Additionally, this policy can also help to prevent employees from using personal devices that may not meet the organization\'s security standards, which can also be a compliance concern.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '5vmec', text: 'This policy is only effective if you know certain operating systems shouldn\'t be in your organization. If you have some users on Windows, Mac, Linux, Android, and iOS then this policy is ineffective and can be skipped.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 5, length: 1, offset: 0}], inlineStyleRanges: [], key: 'e6grh', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: '3l8h', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 15, offset: 17, style: 'BOLD'}], key: 'e8pcr', text: 'Name the policy "Blocked Devices"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: 'c4ng3', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: '111ij', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 21, offset: 6, style: 'BOLD'}, {length: 14, offset: 30, style: 'BOLD'}, {length: 10, offset: 76, style: 'BOLD'}, {length: 4, offset: 89, style: 'BOLD'}, {length: 10, offset: 95, style: 'BOLD'}], key: '300u8', text: 'Click 0 conditions selected > Not configured (under Device platforms) > Set Configure to Yes > Any device.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 7, offset: 6, style: 'BOLD'}, {length: 17, offset: 26, style: 'BOLD'}, {length: 4, offset: 111, style: 'BOLD'}], key: 'ei3v3', text: 'Click Exclude > click any operating systems that should be able to connect to your Microsoft 365 tenant. Click Done.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 7, offset: 57, style: 'BOLD'}, {length: 3, offset: 66, style: 'BOLD'}, {length: 6, offset: 71, style: 'BOLD'}], key: '5pb5f', text: 'Click 0 controls selected (under Grant) > Block access > Select > On > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '5hpl4', text: '3. Require compliant devices', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'f73nt', text: 'A Microsoft 365 compliance policy is a set of rules and configurations that an organization can use to ensure compliance with regulatory standards and industry best practices within the Microsoft 365 ecosystem. These policies can be implemented through the Microsoft Endpoint Manager admin center and can be used to manage and protect sensitive data, prevent data breaches, and meet regulatory requirements for data retention, eDiscovery, and more.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '1gmoo', text: 'Microsoft 365 compliance policies can include controls such as requiring device encryption, a device passcode, certain update levels, and a Microsoft Defender for Endpoint risk score to name a few of the options.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '6ap8e', text: 'By implementing Microsoft 365 compliance policies, organizations can ensure that their data is only accessed on secure and protected devices.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 6, length: 33, offset: 30}], inlineStyleRanges: [], key: '3esdi', text: 'I won\'t go into details about how to set up a compliance policy because it\'s already covered but below is how to set up the conditional access policy to require a compliant device.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '22kka', text: 'If your organization doesn\'t require all your devices to be registered in Intune or doesn\'t have any compliance policies this policy should be skipped.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 7, length: 1, offset: 0}], inlineStyleRanges: [], key: '8lds1', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: '3av4u', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 25, offset: 17, style: 'BOLD'}], key: '1kr1g', text: 'Name the policy "Require Compliant devices"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: 'ckucj', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: 'ee8su', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '1roed', text: 'Optional: If you\'re still deploying compliance policies you may want to target specific operating systems at first.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 5, style: 'BOLD'}, {length: 12, offset: 41, style: 'BOLD'}, {length: 40, offset: 56, style: 'BOLD'}, {length: 7, offset: 99, style: 'BOLD'}, {length: 2, offset: 108, style: 'BOLD'}, {length: 6, offset: 113, style: 'BOLD'}], key: 'do4h5', text: 'Click 0 control selected (under Grant) > Grant access > Require device to be marked as compliant > Select > On > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '275kn', text: '4. Require Hybrid Azure AD joined device', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'd7hll', text: '"Require Hybrid Azure AD joined device" is a condition that can be set in a conditional access policy to ensure that only devices that are joined to both an on-premises Active Directory (AD) and Azure AD are able to access corporate resources. This condition can be used to ensure that all Windows computers are domain-joined computers.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '3voth', text: 'When a device is Hybrid Azure AD joined, it means that the device is connected to both the on-premises AD and Azure AD, allowing for a more seamless and secure experience for the user. The device is also registered with Azure AD, and this allows the organization to manage and secure the device using Azure AD and other Microsoft cloud services.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '3a787', text: 'Since users won\'t be able to bring their own computers some organizations opt not to put this policy in place. But, if you\'re assigning every user a corporate computer that\'s joined to your on-premises domain and you don\'t allow users to use their own personal computers then you should implement this policy.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 8, length: 4, offset: 23}], inlineStyleRanges: [], key: 'duhg6', text: 'Lastly, you\'ll need to sync your on-premises AD devices to Microsoft 365.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 9, length: 1, offset: 0}], inlineStyleRanges: [], key: '6qrb', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '7e8e0', text: '', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: 'fvlc9', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 22, offset: 17, style: 'BOLD'}], key: '9mkpn', text: 'Name the policy "Require hybrid devices"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: 'bi5oj', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: 'fi0sp', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 21, offset: 6, style: 'BOLD'}, {length: 14, offset: 30, style: 'BOLD'}, {length: 4, offset: 89, style: 'BOLD'}, {length: 23, offset: 95, style: 'BOLD'}, {length: 8, offset: 121, style: 'BOLD'}, {length: 4, offset: 131, style: 'BOLD'}], key: 'e1e8a', text: 'Click 0 conditions selected > Not configured (under Device platforms) > Set Configure to Yes > Select device platforms > Windows > Done', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 37, offset: 57, style: 'BOLD'}, {length: 6, offset: 97, style: 'BOLD'}], key: '26ou6', text: 'Click 0 controls selected (under Grant) > Grant access > Require Hybrid Azure AD joined device > Select.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 3, offset: 6, style: 'BOLD'}, {length: 6, offset: 11, style: 'BOLD'}], key: 'eui1p', text: 'Click On > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '8roph', text: '5. Require an app protection policy', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '34iev', text: 'An app protection policy is a set of rules and configurations that an organization can use to secure and manage mobile apps on employee-owned devices. These policies can be implemented through mobile device management (MDM) or mobile application management (MAM) software and can restrict access to sensitive data, prevent data leakage, and ensure compliance with security and regulatory standards.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '51gvc', text: 'App protection policies can include controls such as requiring a passcode to access the app, encrypting data at rest and in transit, and limiting the ability to share or print data. They can also include controls such as controlling access to the app based on device, location, or network and controlling the app\'s ability to access the device\'s camera, microphone, and other resources.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'b3su7', text: 'By implementing app protection policies, organizations can ensure that sensitive data remains secure and protected, even if an employee\'s device is lost or stolen. It also allows the organization to have more control over the data and how it\'s used, which can be an important consideration in regulated industries.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'cohk4', text: 'By adding a conditional access policy requirement you can lock out any other types of apps. For example, if you want everyone on Android devices to be using Microsoft Outlook to access your organization\'s email environment, you can create an app protection policy for Microsoft Outlook on Android and not create an app protection policy for any other apps.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 10, length: 6, offset: 82}, {key: 11, length: 21, offset: 103}], inlineStyleRanges: [], key: 'c3rsi', text: 'Before creating the conditional access policy you\'ll need to join your devices to intune and create an app protection policy in Endpoint manager admin center. Create an app protection policy to allow Microsoft Outlook on Android devices.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 12, length: 1, offset: 0}], inlineStyleRanges: [], key: 'api6h', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: 'ernpm', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 26, offset: 17, style: 'BOLD'}], key: '7ie01', text: 'Name the policy "Require Outlook on Android"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: '1npia', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 11, offset: 68, style: 'BOLD'}, {length: 5, offset: 82, style: 'BOLD'}, {length: 9, offset: 100, style: 'BOLD'}, {length: 26, offset: 111, style: 'BOLD'}, {length: 6, offset: 140, style: 'BOLD'}], key: 'b6h9d', text: 'Click No cloud apps, actions, or authentication contexts selected > Select apps > None > search for Exchange > Office 365 Exchange Online > Select.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 14, offset: 0, style: 'BOLD'}, {length: 10, offset: 46, style: 'BOLD'}, {length: 3, offset: 59, style: 'BOLD'}, {length: 16, offset: 72, style: 'BOLD'}, {length: 8, offset: 91, style: 'BOLD'}, {length: 4, offset: 101, style: 'BOLD'}], key: 'n8am', text: 'Not configured (under Device platforms) > Set Configure to Yes > Select device platforms > Android > Done.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 29, offset: 57, style: 'BOLD'}, {length: 6, offset: 89, style: 'BOLD'}, {length: 13, offset: 101, style: 'BOLD'}, {length: 3, offset: 118, style: 'BOLD'}, {length: 6, offset: 123, style: 'BOLD'}], key: '9lpnm', text: 'Click 0 controls selected (under Grant) > Grant access > Require app protection policy > Select. Set Enable policy to On > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '1b6jp', text: '6. Block high-user risk', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'e98ue', text: 'The Microsoft 365 User risk level is a feature that helps to determine the risk of a user account in Microsoft 365. It uses Azure AD Identity Protection, which analyses multiple signals including IP address, device state, and suspicious activity, to determine the risk level of a user account.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '7nnlk', text: 'The Microsoft 365 User risk level is divided into three categories:', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 8, offset: 0, style: 'BOLD'}], key: '1sfpr', text: 'Low risk: User accounts that are determined to be low risk are typically considered to be legitimate.', type: 'unordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 11, offset: 0, style: 'BOLD'}], key: 'cfqfn', text: 'Medium risk: User accounts that are determined to be medium risk may be legitimate but are also more likely to be compromised or targeted by a malicious actor. Some cybersecurity experts recommend requiring additional security measures on medium risk. I typically don\'t.', type: 'unordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 9, offset: 0, style: 'BOLD'}], key: '6g0tt', text: 'High risk: User accounts that are determined to be high risk are considered to be compromised and should be blocked.', type: 'unordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '6ooef', text: 'By using the Microsoft 365 User risk level feature, organizations can detect and respond to suspicious account activity more effectively, helping to prevent unauthorized access to sensitive information and systems. This is an important security feature that can help to reduce the risk of data breaches and comply with regulatory requirements.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '2v3ej', text: 'You can set up the user risk level in Microsoft Entra > Protect & secure > Identity Protection > User risk policy but conditional access policies allow you to be more granular. For example, with a conditional access policy, you can exclude your office locations or set it only to certain cloud apps or set it to require the device be marked as compliant.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 13, length: 1, offset: 0}], inlineStyleRanges: [], key: 'a9rm6', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: 'dmpqp', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 20, offset: 17, style: 'BOLD'}], key: 'a0p1g', text: 'Name the policy "Block high user risk"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: 'bg6ho', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: 'eqre1', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 20, offset: 6, style: 'BOLD'}, {length: 14, offset: 29, style: 'BOLD'}, {length: 10, offset: 68, style: 'BOLD'}, {length: 3, offset: 81, style: 'BOLD'}, {length: 5, offset: 87, style: 'BOLD'}, {length: 4, offset: 94, style: 'BOLD'}], key: '6a8rq', text: 'Click 0 conditions selects > Not configured (under User risk) > Set Configure to Yes > High > Done', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 6, offset: 57, style: 'BOLD'}, {length: 2, offset: 71, style: 'BOLD'}, {length: 6, offset: 98, style: 'BOLD'}], key: '3rp3b', text: 'Click 0 controls selected (under Grant) > Block access > Select. Click On (under Enable policy) > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '9eo4k', text: '7. Block high sign-in risk', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '3e0vf', text: 'The Microsoft 365 sign-in risk level is a feature that helps to determine the risk of a sign-in attempt in Azure Active Directory (Azure AD) and Microsoft 365. It uses Azure AD Identity Protection, which analyses multiple signals including IP address, device state, and suspicious activity, to determine the risk level of a sign-in attempt.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '3g9k', text: 'The Microsoft 365 sign-in risk level is divided into three categories:', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 8, offset: 0, style: 'BOLD'}], key: 'djghk', text: 'Low risk: Sign-in attempts that are determined to be low risk are typically considered to be legitimate and are allowed to proceed.', type: 'unordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 11, offset: 0, style: 'BOLD'}], key: '74no9', text: 'Medium risk: Sign-in attempts that are determined to be medium risk may be legitimate but are also likely to be an attempt by a malicious actor. Some cybersecurity experts recommend requiring additional security measures on medium risk. I typically don\'t.', type: 'unordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 9, offset: 0, style: 'BOLD'}], key: '6a0tb', text: 'High risk: Sign-in attempts that are determined to be high risk are considered to be malicious and are blocked.', type: 'unordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '9ag55', text: 'By using the Microsoft 365 sign-in risk level feature, organizations can detect and respond to suspicious sign-in attempts more effectively, helping to prevent unauthorized access to sensitive information and systems. This is an important security feature that can help to reduce the risk of data breaches and comply with regulatory requirements.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 14, length: 1, offset: 0}], inlineStyleRanges: [], key: 'avpjm', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: '59o05', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 23, offset: 17, style: 'BOLD'}], key: 'cpa5i', text: 'Name the policy "Block High Sign In Risk"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: '2174v', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: 'f4c3', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 6, offset: 57, style: 'BOLD'}, {length: 2, offset: 71, style: 'BOLD'}, {length: 6, offset: 98, style: 'BOLD'}], key: 'cj3ds', text: 'Click 0 controls selected (under Grant) > Block access > Select. Click On (under Enable policy) > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'dq9kp', text: '8. Require MFA', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: '3i9lb', text: 'Requiring multi-factor authentication (MFA) to log in to Microsoft 365 is a security measure that can help to prevent unauthorized access to sensitive information and systems. MFA adds an additional layer of security to the login process by requiring users to provide two or more forms of authentication, such as a password and a security code sent to a mobile device, to access their account. Enough said about MFA. Let\'s jump to it.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 15, length: 1, offset: 0}], inlineStyleRanges: [], key: '9prbs', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: 'erfjc', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 11, offset: 17, style: 'BOLD'}], key: '70hc8', text: 'Name the policy "Require MFA"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: 'bt65f', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 59, offset: 6, style: 'BOLD'}, {length: 14, offset: 68, style: 'BOLD'}], key: 'btbi0', text: 'Click No cloud apps, actions, or authentication contexts selected > All cloud apps.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 34, offset: 63, style: 'BOLD'}, {length: 6, offset: 100, style: 'BOLD'}, {length: 2, offset: 114, style: 'BOLD'}, {length: 6, offset: 141, style: 'BOLD'}], key: 'f3rjv', text: 'Click 0 controls selected (under Grant) > Grant access > Check Require multifactor authentication > Select. Click On (under Enable policy) > Create.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'k2rn', text: '9. Block basic/legacy authentication', type: 'header-two'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'aqt2u', text: 'Blocking legacy authentication in Microsoft 365 is a security measure that can help to prevent unauthorized access to sensitive information and systems. Legacy authentications are older methods of authenticating users that typically send the user\'s credentials (username and password) in plaintext over the internet.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [], key: 'bu7rj', text: 'Legacy authentication is also used for protocols like IMAP, and POP which malicious hackers love to use once they gain the credentials to one of your accounts.', type: 'unstyled'}, {data: {}, depth: 0, entityRanges: [{key: 16, length: 1, offset: 0}], inlineStyleRanges: [], key: '5gqlq', text: ' ', type: 'atomic'}, {data: {}, depth: 0, entityRanges: [{key: 4, length: 8, offset: 77}], inlineStyleRanges: [{length: 28, offset: 6, style: 'BOLD'}, {length: 16, offset: 37, style: 'BOLD'}, {length: 18, offset: 56, style: 'BOLD'}, {length: 9, offset: 77, style: 'BOLD'}, {length: 10, offset: 88, style: 'BOLD'}], key: '1tbo9', text: 'Go to Microsoft Entra admin center > Protect & secure > Conditional Access > Policies > New policy.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 27, offset: 17, style: 'BOLD'}], key: '5uv9k', text: 'Name the policy "Block Legacy Authentication"', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 5, offset: 6, style: 'BOLD'}, {length: 9, offset: 14, style: 'BOLD'}], key: '59rht', text: 'Click Users > All users. Add any exceptions you may need.', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 21, offset: 6, style: 'BOLD'}, {length: 14, offset: 30, style: 'BOLD'}, {length: 4, offset: 84, style: 'BOLD'}, {length: 8, offset: 90, style: 'BOLD'}, {length: 29, offset: 115, style: 'BOLD'}, {length: 6, offset: 146, style: 'BOLD'}, {length: 29, offset: 169, style: 'BOLD'}, {length: 4, offset: 201, style: 'BOLD'}], key: '7n3gu', text: 'Click 0 conditions selected > Not configured (under Client apps) > Set Configure to Yes > Uncheck everything under Modern authentication clients. Check everything under Legacy authentication clients > Done', type: 'ordered-list-item'}, {data: {}, depth: 0, entityRanges: [], inlineStyleRanges: [{length: 19, offset: 6, style: 'BOLD'}, {length: 12, offset: 42, style: 'BOLD'}, {length: 7, offset: 57, style: 'BOLD'}, {length: 13, offset: 70, style: 'BOLD'}, {length: 3, offset: 87, style: 'BOLD'}, {length: 6, offset: 92, style: 'BOLD'}], key: 'ech04', text: 'Click 0 controls selected (under Grant) > Block access > Select > Set Enable policy to On > Create.', type: 'ordered-list-item'}], entityMap: {0: {data: {alt: 'Create a named location in Microsoft 365', height: 710, src: 'https://i.ibb.co/THGVK09/create-named-location.png', url: 'https://www.gitbit.org/course/ms-500/learn/Whats-a-conditional-access-policy-V1en9Iugh', width: 1330}, mutability: 'MUTABLE', type: 'LINK'}, 1: {data: {alt: 'Create a named location in Microsoft 365', height: 710, src: 'https://i.ibb.co/THGVK09/create-named-location.png', url: 'https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/NamedLocations', width: 1330}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 10: {data: {url: 'https://www.gitbit.org/course/ms-500/learn/Setting-up-Android-Devices-ZyKX3Idjs'}, mutability: 'MUTABLE', type: 'LINK'}, 11: {data: {url: 'https://www.gitbit.org/course/ms-500/learn/Restricting-and-managing-apps-on-user-devices-62t_7oiZx'}, mutability: 'MUTABLE', type: 'LINK'}, 12: {data: {alt: 'How to create a conditional access policy to require an app protection policy', height: 1500, src: 'https://i.ibb.co/VJ0vj9F/require-app-protection-policy.png', width: 1684}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 13: {data: {alt: 'Block high user risk in Microsoft 365', height: 785, src: 'https://i.ibb.co/hHw4tnD/Block-High-User-Risk.png', width: 1302}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 14: {data: {alt: 'Block high sign in risk from accessing Microsoft 365', height: 785, src: 'https://i.ibb.co/yVqTqB5/Block-High-Sign-In-Risk.png', width: 1302}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 15: {data: {alt: 'Require MFA using conditional access policy', height: 762, src: 'https://i.ibb.co/BVwMDf2/Require-MFA.png', width: 1179}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 16: {data: {alt: 'Block legacy authentication in Microsoft 365', height: 736, src: 'https://i.ibb.co/tJP3LYm/Block-legacy-authentication.png', width: 1179}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 2: {data: {alt: 'Create a conditional access policy to block country log ins', height: 1290, src: 'https://i.ibb.co/vXCSwnj/Create-a-conditional-access-policy-to-block-country-log-ins.png', url: 'https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/NamedLocations', width: 1562}, mutability: 'MUTABLE', type: 'LINK'}, 3: {data: {alt: 'Create a conditional access policy to block country log ins', height: 1290, src: 'https://i.ibb.co/vXCSwnj/Create-a-conditional-access-policy-to-block-country-log-ins.png', url: 'https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies', width: 1562}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 4: {data: {alt: 'Block devices from signing into Microsoft 365', height: 1190, src: 'https://i.ibb.co/dfy9bL8/Block-devices.png', url: 'https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies', width: 1270}, mutability: 'MUTABLE', type: 'LINK'}, 5: {data: {alt: 'Block devices from signing into Microsoft 365', height: 1190, src: 'https://i.ibb.co/dfy9bL8/Block-devices.png', url: 'https://www.gitbit.org/course/ms-500/learn/Understanding-compliance-policies-qDRA4jjoN', width: 1270}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 6: {data: {url: 'https://www.gitbit.org/course/ms-500/learn/Understanding-compliance-policies-qDRA4jjoN'}, mutability: 'MUTABLE', type: 'LINK'}, 7: {data: {alt: 'Require compliant device to connect to Microsoft 365', height: 856, src: 'https://i.ibb.co/ZfwfL96/Require-compliant-device.png', width: 1248}, mutability: 'IMMUTABLE', type: 'IMAGE'}, 8: {data: {alt: 'Require hybrid joined devices', height: 1296, src: 'https://i.ibb.co/ckkFzHj/require-hybrid-joined-devices.png', url: 'https://learn.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-device-options', width: 1248}, mutability: 'MUTABLE', type: 'LINK'}, 9: {data: {alt: 'Require hybrid joined devices', height: 1296, src: 'https://i.ibb.co/ckkFzHj/require-hybrid-joined-devices.png', width: 1248}, mutability: 'IMMUTABLE', type: 'IMAGE'}}}, datePublished: '2023/1/19', description: '9 top recommended conditional access policies to secure your Microsoft 365 environment', featuredImage: 'https://i.ibb.co/THGVK09/create-named-location.png', id: 'crntbkjzc', images: ['https://i.ibb.co/THGVK09/create-named-location.png', 'https://i.ibb.co/vXCSwnj/Create-a-conditional-access-policy-to-block-country-log-ins.png', 'https://i.ibb.co/Hg8yNVr/Block-unknown-or-unused-device-operating-systems.png', 'https://i.ibb.co/dfy9bL8/Block-devices.png', 'https://i.ibb.co/ZfwfL96/Require-compliant-device.png', 'https://i.ibb.co/ckkFzHj/require-hybrid-joined-devices.png', 'https://i.ibb.co/VJ0vj9F/require-app-protection-policy.png', 'https://i.ibb.co/hHw4tnD/Block-High-User-Risk.png', 'https://i.ibb.co/hHw4tnD/Block-High-User-Risk.png', 'https://i.ibb.co/yVqTqB5/Block-High-Sign-In-Risk.png', 'https://i.ibb.co/BVwMDf2/Require-MFA.png', 'https://i.ibb.co/tJP3LYm/Block-legacy-authentication.png'], publish: true, slug: '9-conditional-access-policies-youll-kick-yourself-for-not-setting-up-crntbkjzc', title: '9 Conditional Access Policies You\'ll Kick Yourself for Not Setting Up', type: 'article'},
      decideHeight: '1000px'
    }
  }

  componentDidMount() {
    this.mountAds1()
    this.mountAds2()
    const setDecideHeight = (a) => {
      if (!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(a.substr(0, 4))))
        this.setState({decideHeight: '250px'})
    }

    setDecideHeight(navigator.userAgent||navigator.vendor||window.opera)
  }

  mountAds1() {
    (function(w, d, s, i) {
      w.ldAdInit=w.ldAdInit||[]; w.ldAdInit.push({slot: 15664931508787046, size: [0, 0], id: 'ld-534-9587'}); if (!d.getElementById(i)) {
        const j=d.createElement(s); const p=d.getElementsByTagName(s)[0]; j.async=true; j.src='//cdn2.decide.dev/_js/ajs.js'; j.id=i; p.parentNode.insertBefore(j, p)
      }
    })(window, document, 'script', 'ld-ajs')
  }

  mountAds2() {
    ((w, d, s, i)=> {
      w.ldAdInit=w.ldAdInit||[]; w.ldAdInit.push({slot: 15664932884518758, size: [0, 0], id: 'ld-7740-2760'}); if (!d.getElementById(i)) {
        const j=d.createElement(s); const p=d.getElementsByTagName(s)[0]; j.async=true; j.src='//cdn2.decide.dev/_js/ajs.js'; j.id=i; p.parentNode.insertBefore(j, p)
      }
    })(window, document, 'script', 'ld-ajs')
  }

  render() {
    const jsonLd = {
      headline: this.state.article.title,
      datePublished: this.state.article.publishDate,
      keywords: [
        'Microsoft',
        'Microsoft 365',
        'Office 365',
        'MS-500',
        'Microsoft 365 Security Administration'
      ],
      author: {
        '@type': 'Person',
        name: 'John Gruber',
        url: 'https://medium.com/@gruberjl'
      }
    }

    return (
      <Page jsonLdType={'BlogPosting'} jsonLd={jsonLd} image={this.state.article.featuredImage} title={this.state.article.title} description={this.state.article.description}>
        <Container>
          <Grid container>
            <Grid item>
              <main>
                <div id="ld-534-9587" style={{height: this.state.decideHeight, overflow: 'hidden'}}>
                  <p style="position: absolute;z-index: -1">Reserved for ads. Please scroll down.</p>
                </div>
                <h1 style={marginTop24Style}>{this.state.article.title}</h1>
                <div><p>A <a href="https://www.gitbit.org/course/ms-500/learn/Whats-a-conditional-access-policy-V1en9Iugh" target="_self">conditional access policy</a> is a set of rules and conditions that determine whether a user is granted access to a specific resource or system. These policies are typically used to secure corporate data and applications and can include factors such as the device being used, the location of the user, and the level of risk associated with the request for access. The policy can be implemented using various technologies, such as multi-factor authentication, device management, and identity management systems.</p>
                  <p>Conditional access policies are an important part of a comprehensive security strategy for organizations. These policies are used to control access to resources based on a set of predefined conditions, such as the location of the user, the device they are using, or the level of risk associated with the resource being accessed.</p>
                  <p>One of the main reasons to set up conditional access policies is to protect against unauthorized access to sensitive information. For example, an organization may only want to allow access to certain resources from specific locations or devices or require multi-factor authentication for access to high-risk resources. By implementing these types of policies, organizations can reduce the risk of data breaches and other security incidents.</p>
                  <p>Another reason to set up conditional access policies is to ensure compliance with regulatory requirements. Many industries have specific regulations in place that require organizations to implement certain security controls, such as encryption or multi-factor authentication. By setting up conditional access policies, organizations can ensure that they are in compliance with these regulations and avoid potential fines or penalties.</p>
                  <p>Another benefit of conditional access policies is that it can help organizations to maintain productivity and prevent disruptions. For example, an organization may want to prevent access to certain resources from personal devices, which can help to reduce the risk of data breaches caused by lost or stolen devices. Additionally, conditional access policies can be used to prevent users from accessing resources from untrusted locations, which can help to reduce the risk of phishing and other types of attacks.</p>
                  <p>Typically, I create each of these policies as a separate conditional access policy. Sure you could combine a couple of them into one policy but then you lose the granularity. For example, the first policy is blocking certain countries. So maybe you create a policy that only allows logins from certain countries, while only using certain devices and the login must be from a compliant device. Then, one of your users is leaving the country so you need to exclude them from the certain countries list. If you have everything in a single policy you'll need to allow that user to login from anywhere, AND the user won't need a compliant device. Wouldn't it be safer to continue to require the user to use a compliant device and allow them to log in from any country?</p>
                  <div id="ld-7740-2760" style={{height: this.state.decideHeight, overflow: 'hidden'}} /><h2>How to deploy conditional access policies</h2>
                  <p>Lastly, I always deploy conditional access policies in batches. For example, I'll start with a test account and verify access. Then I'll deploy it to a couple of IT users to verify access. Then, depending on the size of the company I'll deploy the conditional access policy to a department or an office. Lastly, I'll deploy the conditional access policy to everyone. This batched deployment helps find errors and issues without disrupting the entire organization. Lastly, I typically add a break glass account. A break glass account is an exception to each conditional access policy. That way, if Microsoft or one of your admins ever screws up a conditional access policy you can still get in and disable the conditional access policy.</p>
                  <h2>1. Block login except from certain countries</h2>
                  <p>With any cloud, it's accessible from anywhere at any time. But does your Microsoft 365 tenant really need to be accessible from anywhere? A lot of malicious actors are coming from certain countries where you may not even have any employees. For example, the number one hotspot for hackers is China. Do you have any employees logging in from China? No, then create a conditional access policy to block those logins.</p>
                  <p>By limiting login attempts to specific geographic locations, organizations can reduce the risk of unauthorized access to sensitive information and systems from potentially malicious actors located in other regions. Additionally, this policy can also help to comply with local laws and regulations related to data protection and privacy.</p>
                  <p>This policy is only effective if you aren't a global organization. If you have employees on every continent you'll either need to break down the policy so users in the North America group can only log in from North America or skip this policy.</p>
                  <p>To create this conditional access policy you'll need to first create a named location. Then you can create a conditional access policy.</p>
                  <h3>How to create a named location</h3>
                  <p>There are two ways to create the named location and conditional access policy. Using an allow list or block list. An allow list is "I want to only allow logins from these countries". A block list is "I want to allow login from anywhere except these locations". In the following guide, I'll be creating an allow list to only allow logins from the U.S.A. and the United Kingdom.</p>
                  <img src="https://i.ibb.co/THGVK09/create-named-location.png" alt="Create a named location in Microsoft 365" height="710" width="1330" style="aspect-ratio: auto 1330 / 710; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/NamedLocations" target="_self"><strong>Named locations</strong></a>. Click <strong>Countries location</strong>.</li>
                    <li>Name the location "<strong>Allowed Countries</strong>". Check <strong>Include unknown countries/regions</strong>. Click <strong>United States</strong> and <strong>United Kingdom</strong>.</li>
                    <li>Click <strong>Create</strong>.</li>
                  </ol>
                  <h3>Create a conditional access policy to block log-ins from certain countries</h3>
                  <img src="https://i.ibb.co/vXCSwnj/Create-a-conditional-access-policy-to-block-country-log-ins.png" alt="Create a conditional access policy to block country log ins" height="1290" width="1562" style="aspect-ratio: auto 1562 / 1290; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Allowed Countries</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Click <strong>0 conditions selected</strong> &gt; <strong>Not configured</strong> (under Locations) &gt; Set <strong>Configure </strong>to <strong>Yes </strong>&gt; <strong>Any location</strong> (under Include).</li>
                    <li>Click <strong>Exclude</strong> &gt; <strong>None </strong>(under Select) &gt; Check <strong>Allowed Countries</strong> and <strong>Multifactor authentication trusted IPs</strong>. Click <strong>Select</strong>.</li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Block access</strong> &gt; <strong>Select </strong>&gt; <strong>On </strong>&gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>2. Block unused device operating systems</h2>
                  <p>By only allowing devices with supported operating systems to access corporate resources, organizations can reduce the risk of hackers accessing your Microsoft 365 environment. For example, does anyone use Linux? What about Macs? Maybe you give everyone an Android device so there's no need to allow iPhones.</p>
                  <p>Additionally, this policy can also help to prevent employees from using personal devices that may not meet the organization's security standards, which can also be a compliance concern.</p>
                  <p>This policy is only effective if you know certain operating systems shouldn't be in your organization. If you have some users on Windows, Mac, Linux, Android, and iOS then this policy is ineffective and can be skipped.</p>
                  <img src="https://i.ibb.co/dfy9bL8/Block-devices.png" alt="Block devices from signing into Microsoft 365" height="1190" width="1270" style="aspect-ratio: auto 1270 / 1190; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Blocked Devices</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Click <strong>0 conditions selected</strong> &gt; <strong>Not configured</strong> (under Device platforms) &gt; Set <strong>Configure </strong>to <strong>Yes </strong>&gt; <strong>Any device</strong>.</li>
                    <li>Click <strong>Exclude</strong> &gt; click any <strong>operating systems</strong> that should be able to connect to your Microsoft 365 tenant. Click <strong>Done</strong>.</li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Block access</strong> &gt; <strong>Select </strong>&gt; <strong>On </strong>&gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>3. Require compliant devices</h2>
                  <p>A Microsoft 365 compliance policy is a set of rules and configurations that an organization can use to ensure compliance with regulatory standards and industry best practices within the Microsoft 365 ecosystem. These policies can be implemented through the Microsoft Endpoint Manager admin center and can be used to manage and protect sensitive data, prevent data breaches, and meet regulatory requirements for data retention, eDiscovery, and more.</p>
                  <p>Microsoft 365 compliance policies can include controls such as requiring device encryption, a device passcode, certain update levels, and a Microsoft Defender for Endpoint risk score to name a few of the options.</p>
                  <p>By implementing Microsoft 365 compliance policies, organizations can ensure that their data is only accessed on secure and protected devices.</p>
                  <p>I won't go into details about <a href="https://www.gitbit.org/course/ms-500/learn/Understanding-compliance-policies-qDRA4jjoN" target="_self">how to set up a compliance policy</a> because it's already covered but below is how to set up the conditional access policy to require a compliant device.</p>
                  <p>If your organization doesn't require all your devices to be registered in Intune or doesn't have any compliance policies this policy should be skipped.</p>
                  <img src="https://i.ibb.co/ZfwfL96/Require-compliant-device.png" alt="Require compliant device to connect to Microsoft 365" height="856" width="1248" style="aspect-ratio: auto 1248 / 856; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Require Compliant devices</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Optional: If you're still deploying compliance policies you may want to target specific operating systems at first.</li>
                    <li>Click<strong> 0 control selected</strong> (under Grant) &gt; <strong>Grant access</strong> &gt; <strong>Require device to be marked as compliant</strong> &gt; <strong>Select </strong>&gt; <strong>On</strong> &gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>4. Require Hybrid Azure AD joined device</h2>
                  <p>"Require Hybrid Azure AD joined device" is a condition that can be set in a conditional access policy to ensure that only devices that are joined to both an on-premises Active Directory (AD) and Azure AD are able to access corporate resources. This condition can be used to ensure that all Windows computers are domain-joined computers.</p>
                  <p>When a device is Hybrid Azure AD joined, it means that the device is connected to both the on-premises AD and Azure AD, allowing for a more seamless and secure experience for the user. The device is also registered with Azure AD, and this allows the organization to manage and secure the device using Azure AD and other Microsoft cloud services.</p>
                  <p>Since users won't be able to bring their own computers some organizations opt not to put this policy in place. But, if you're assigning every user a corporate computer that's joined to your on-premises domain and you don't allow users to use their own personal computers then you should implement this policy.</p>
                  <p>Lastly, you'll need to <a href="https://learn.microsoft.com/en-us/azure/active-directory/hybrid/how-to-connect-device-options" target="_self">sync</a> your on-premises AD devices to Microsoft 365.</p>
                  <img src="https://i.ibb.co/ckkFzHj/require-hybrid-joined-devices.png" alt="Require hybrid joined devices" height="1296" width="1248" style="aspect-ratio: auto 1248 / 1296; height: auto;" />
                  <p />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Require hybrid devices</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Click <strong>0 conditions selected</strong> &gt; <strong>Not configured</strong> (under Device platforms) &gt; Set Configure to <strong>Yes </strong>&gt; <strong>Select device platforms</strong> &gt; <strong>Windows </strong>&gt; <strong>Done</strong></li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Grant access</strong> &gt; <strong>Require Hybrid Azure AD joined device</strong> &gt; <strong>Select</strong>.</li>
                    <li>Click <strong>On </strong>&gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>5. Require an app protection policy</h2>
                  <p>An app protection policy is a set of rules and configurations that an organization can use to secure and manage mobile apps on employee-owned devices. These policies can be implemented through mobile device management (MDM) or mobile application management (MAM) software and can restrict access to sensitive data, prevent data leakage, and ensure compliance with security and regulatory standards.</p>
                  <p>App protection policies can include controls such as requiring a passcode to access the app, encrypting data at rest and in transit, and limiting the ability to share or print data. They can also include controls such as controlling access to the app based on device, location, or network and controlling the app's ability to access the device's camera, microphone, and other resources.</p>
                  <p>By implementing app protection policies, organizations can ensure that sensitive data remains secure and protected, even if an employee's device is lost or stolen. It also allows the organization to have more control over the data and how it's used, which can be an important consideration in regulated industries.</p>
                  <p>By adding a conditional access policy requirement you can lock out any other types of apps. For example, if you want everyone on Android devices to be using Microsoft Outlook to access your organization's email environment, you can create an app protection policy for Microsoft Outlook on Android and not create an app protection policy for any other apps.</p>
                  <p>Before creating the conditional access policy you'll need to join your devices to <a href="https://www.gitbit.org/course/ms-500/learn/Setting-up-Android-Devices-ZyKX3Idjs" target="_self">intune</a> and create an <a href="https://www.gitbit.org/course/ms-500/learn/Restricting-and-managing-apps-on-user-devices-62t_7oiZx" target="_self">app protection policy</a> in Endpoint manager admin center. Create an app protection policy to allow Microsoft Outlook on Android devices.</p>
                  <img src="https://i.ibb.co/VJ0vj9F/require-app-protection-policy.png" alt="How to create a conditional access policy to require an app protection policy" height="1500" width="1684" style="aspect-ratio: auto 1684 / 1500; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Require Outlook on Android</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>Select apps</strong> &gt; <strong>None </strong>&gt; search for <strong>Exchange </strong>&gt; <strong>Office 365 Exchange Online</strong> &gt; <strong>Select</strong>.</li>
                    <li><strong>Not configured</strong> (under Device platforms) &gt; Set <strong>Configure </strong>to <strong>Yes</strong> &gt; Select <strong>device platforms</strong> &gt; <strong>Android </strong>&gt; <strong>Done</strong>.</li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Grant access</strong> &gt; <strong>Require app protection policy</strong> &gt; <strong>Select</strong>. Set <strong>Enable policy</strong> to <strong>On </strong>&gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>6. Block high-user risk</h2>
                  <p>The Microsoft 365 User risk level is a feature that helps to determine the risk of a user account in Microsoft 365. It uses Azure AD Identity Protection, which analyses multiple signals including IP address, device state, and suspicious activity, to determine the risk level of a user account.</p>
                  <p>The Microsoft 365 User risk level is divided into three categories:</p>
                  <ul>
                    <li><strong>Low risk</strong>: User accounts that are determined to be low risk are typically considered to be legitimate.</li>
                    <li><strong>Medium risk</strong>: User accounts that are determined to be medium risk may be legitimate but are also more likely to be compromised or targeted by a malicious actor. Some cybersecurity experts recommend requiring additional security measures on medium risk. I typically don't.</li>
                    <li><strong>High risk</strong>: User accounts that are determined to be high risk are considered to be compromised and should be blocked.</li>
                  </ul>
                  <p>By using the Microsoft 365 User risk level feature, organizations can detect and respond to suspicious account activity more effectively, helping to prevent unauthorized access to sensitive information and systems. This is an important security feature that can help to reduce the risk of data breaches and comply with regulatory requirements.</p>
                  <p>You can set up the user risk level in Microsoft Entra &gt; Protect &amp; secure &gt; Identity Protection &gt; User risk policy but conditional access policies allow you to be more granular. For example, with a conditional access policy, you can exclude your office locations or set it only to certain cloud apps or set it to require the device be marked as compliant.</p>
                  <img src="https://i.ibb.co/hHw4tnD/Block-High-User-Risk.png" alt="Block high user risk in Microsoft 365" height="785" width="1302" style="aspect-ratio: auto 1302 / 785; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Block high user risk</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Click <strong>0 conditions selects</strong> &gt; <strong>Not configured</strong> (under User risk) &gt; Set <strong>Configure </strong>to <strong>Yes</strong> &gt; <strong>High </strong>&gt; <strong>Done</strong></li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Block access</strong> &gt; <strong>Select</strong>. Click <strong>On</strong> (under Enable policy) &gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>7. Block high sign-in risk</h2>
                  <p>The Microsoft 365 sign-in risk level is a feature that helps to determine the risk of a sign-in attempt in Azure Active Directory (Azure AD) and Microsoft 365. It uses Azure AD Identity Protection, which analyses multiple signals including IP address, device state, and suspicious activity, to determine the risk level of a sign-in attempt.</p>
                  <p>The Microsoft 365 sign-in risk level is divided into three categories:</p>
                  <ul>
                    <li><strong>Low risk</strong>: Sign-in attempts that are determined to be low risk are typically considered to be legitimate and are allowed to proceed.</li>
                    <li><strong>Medium risk</strong>: Sign-in attempts that are determined to be medium risk may be legitimate but are also likely to be an attempt by a malicious actor. Some cybersecurity experts recommend requiring additional security measures on medium risk. I typically don't.</li>
                    <li><strong>High risk</strong>: Sign-in attempts that are determined to be high risk are considered to be malicious and are blocked.</li>
                  </ul>
                  <p>By using the Microsoft 365 sign-in risk level feature, organizations can detect and respond to suspicious sign-in attempts more effectively, helping to prevent unauthorized access to sensitive information and systems. This is an important security feature that can help to reduce the risk of data breaches and comply with regulatory requirements.</p>
                  <img src="https://i.ibb.co/yVqTqB5/Block-High-Sign-In-Risk.png" alt="Block high sign in risk from accessing Microsoft 365" height="785" width="1302" style="aspect-ratio: auto 1302 / 785; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Block High Sign In Risk</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Block access</strong> &gt; <strong>Select</strong>. Click <strong>On</strong> (under Enable policy) &gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>8. Require MFA</h2>
                  <p>Requiring multi-factor authentication (MFA) to log in to Microsoft 365 is a security measure that can help to prevent unauthorized access to sensitive information and systems. MFA adds an additional layer of security to the login process by requiring users to provide two or more forms of authentication, such as a password and a security code sent to a mobile device, to access their account. Enough said about MFA. Let's jump to it.</p>
                  <img src="https://i.ibb.co/BVwMDf2/Require-MFA.png" alt="Require MFA using conditional access policy" height="762" width="1179" style="aspect-ratio: auto 1179 / 762; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Require MFA</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>No cloud apps, actions, or authentication contexts selected</strong> &gt; <strong>All cloud apps</strong>.</li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Grant access</strong> &gt; Check <strong>Require multifactor authentication</strong> &gt; <strong>Select</strong>. Click <strong>On</strong> (under Enable policy) &gt; <strong>Create</strong>.</li>
                  </ol>
                  <h2>9. Block basic/legacy authentication</h2>
                  <p>Blocking legacy authentication in Microsoft 365 is a security measure that can help to prevent unauthorized access to sensitive information and systems. Legacy authentications are older methods of authenticating users that typically send the user's credentials (username and password) in plaintext over the internet.</p>
                  <p>Legacy authentication is also used for protocols like IMAP, and POP which malicious hackers love to use once they gain the credentials to one of your accounts.</p>
                  <img src="https://i.ibb.co/tJP3LYm/Block-legacy-authentication.png" alt="Block legacy authentication in Microsoft 365" height="736" width="1179" style="aspect-ratio: auto 1179 / 736; height: auto;" />
                  <ol>
                    <li>Go to <strong>Microsoft Entra admin center</strong> &gt; <strong>Protect &amp; secure</strong> &gt; <strong>Conditional Access</strong> &gt; <a href="https://entra.microsoft.com/#view/Microsoft_AAD_ConditionalAccess/ConditionalAccessBlade/~/Policies" target="_self"><strong>Policies</strong></a><strong> </strong>&gt; <strong>New policy</strong>.</li>
                    <li>Name the policy "<strong>Block Legacy Authentication</strong>"</li>
                    <li>Click <strong>Users</strong> &gt; <strong>All users</strong>. Add any exceptions you may need.</li>
                    <li>Click <strong>0 conditions selected</strong> &gt; <strong>Not configured</strong> (under Client apps) &gt; Set Configure to <strong>Yes </strong>&gt; <strong>Uncheck </strong>everything under <strong>Modern authentication clients</strong>. <strong>Check </strong>everything under <strong>Legacy authentication clients</strong> &gt; <strong>Done</strong></li>
                    <li>Click <strong>0 controls selected</strong> (under Grant) &gt; <strong>Block access</strong> &gt; <strong>Select </strong>&gt; Set <strong>Enable policy</strong> to <strong>On </strong>&gt; <strong>Create</strong>.</li>
                  </ol>
                </div>
              </main>
            </Grid>
          </Grid>
        </Container>
      </Page>
    )
  }
}

export default ArticlePage
